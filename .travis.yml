language: node_js
node_js:
- lts/*
cache:
  directories:
  - node_modules
if: branch IN (master, development, features)
before_install:
- npm install -g typescript
before_script:
- npm run setup
- npm run build:client
- npm run build:server
deploy:
  provider: heroku
  skip_cleanup: true
  api_key:
    secure: D7fNlg1VlaVazF0GhQL6ybvzvM3anNdKXwkc5dgp3dR4Y/fa0hkiCpKmY67ihqxkQLjsn/cTcGsIspgbC/nfr4pkiTMjWmZDhHah7ecHzrTsuz1R1AaAvfy848Ye5ulR875keDVK+ds69ikGTD/E4TnBCJcgXiWKSNUgNRfpa3PKsYsUFqy9zfUlZ8oa62tKUAhn5UaP+MsWVQ7PBLL80RNRhAdo3nC6HqULxpqMLicUccCOqKWAE0PaTeUk8pDXJ3Mjf2KTqoJbiS4lac6eMz7CmbIOpu3XdHZYifpiKw/f1bWXhFVC3RtD4gffPsaZVA6duQkpi/VvUfy2jev6HMgfSwvNnKbyCumS42z4Sn2ZsgvW8a/iRoAmF60+02rJF3+cP7B/r/RNl2F21NOZIL1BLXSCjl7Qx6YGXqckkIGWWwOPLPWcta/KFqbLaWJt7OsdLh9j1ifEzYbWzLAPI3I02yltYpKoX15rZZzLJH7X+8j8hlAAxzXGK9SnVMGJeFz9pkpXd2eqmiULSKS6GH7vTdPZcxTieaQV7NM+x9R0QMueus04SySnWc7wNe+eDkCUjPuFfo4ytdRP7Yoz5cuwjDfEBGy131m/GdXGg3xZrKXFvMhh5blNUJd12sz3nXE8DIkrvGMMKk9nR9AtZg3gnRn6W44mI35OSvlppD8=
  app: bears-ims
  on:
    repo: chingu-voyage3/bears-10
