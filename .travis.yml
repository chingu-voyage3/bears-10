language: node_js
node_js:
- lts/*
cache:
  directories:
  - node_modules
if: branch IN (master, development, features)
before_install:
- npm install -g typescript
before_script:
- npm run setup
- npm run build:client
- npm run build:server
deploy:
  provider: heroku
  api_key:
    secure: L61TVxNIZxq/bGCvFrBbaTEWdfuofSFfcW8UGebtvoPuJuX1R5hPkY8SvMrF1t7LeqZoIKcLitdTyhmrExxM+Q6qsEpTbsXVJfmOK6jWcSo0dgVN2ErIjsY6JPkyJgfiOjjXsbd/zXKMU4hkpPf1pRAUKOKSo9B29NomK+2Bo/UrPCvo04QJ6iAvkyUIoOicruxDYi3cz10MKPk5iiIIvbUbSSEOIVFkXq1HpQKtLFPEukO/pz8xtCZWxXIa991a6C7sJefZOvwz8cnyHqda8r1Ao463wiqjHGxs7r8EKUc2FXh6e5loj77oqjQ5oedX3vATCYa3SaAgjOZvbqzn0eCJf3mGEakDKN1689wLSs6r/oeLTHjm+L9k4beDx7HuEAEpUtia/wB6NRC7Fw2eczR7Dib5KWOvfCzRf0RQZqBAlxfMMmtPr4PDZfUEnbc0IhmjHvAIVk+P5vH40QdvsoJ7ScgsD3rIx0CtS5MKFczQXjsJL/8BJ0lzc2qt0cpm89mkT/cpeUGexmEDrPaJo+UhuqutLMqwgaigEk56AadTRWFBZ4MSOfeNlww70oER+rYeLFLAhkESi3DDoJ7GqUPTqcQRVfWqbJ1EvAj1pNAgAt5kioKXUJqoB4+yqs2XxuKfbtFbPSYxlXu0SF2j3h2WQ/T0hZ/Iq7Msjb0yaco=
  app: bears-ims
  on:
    repo: chingu-voyage3/bears-10
